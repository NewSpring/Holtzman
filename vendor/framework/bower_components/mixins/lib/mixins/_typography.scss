
$use-typography: true!default;

@if $use-typography == true {

  @mixin typography {
    // Make sure to only run if typography and fonts variable exist
    // Also verify that they are maps and not strings or other things
    @if global-variable-exists(typography) and variable-exists(fonts) and
    type-of($typography) == "map" and type-of($fonts) == "map" {
      // loop through each element in defined typography set
      @each $_element, $_type in $typography {

        // grab the acutal styles of each element in the font object
        $_styles: map-fetch($fonts, $_type, $_element);

        // create element for styling
        #{$_element} {
          // loop through all styles
          @each $_property, $_value in $_styles {
            // ignore media-queries
            @if $_property != "media-query" {
              // print out all other properties
              #{$_property}: $_value;
            }
          }
        }


        // if the given font has a media query for this element
        @if map-has-key($_styles, "media-query") {

          // loop through media query styles
          @each $_query, $_query-styles in map-get($_styles, "media-query") {

            @include media-query($_query) {
              #{$_element} {
                @each $_property, $_value in $_query-styles {
                  #{$_property}: $_value;
                }
              }
            }
          }
        }
      }
    }
  }



}
